# {{ ansible_managed }}

# Public url
FUNKWHALE_PROTOCOL={{ funkwhale_protocol }}
FUNKWHALE_HOSTNAME={{ funkwhale_hostname }}

# Django
REVERSE_PROXY_TYPE=nginx
FUNKWHALE_SPA_HTML_ROOT={{ funkwhale_front_dir }}/index.html

DJANGO_SECRET_KEY={{ funkwhale_secret_key }}
DJANGO_SETTINGS_MODULE={{ funkwhale_settings_module }}

DATABASE_URL={{ funkwhale_postgresql_url }}
CACHE_URL={{ funkwhale_redis_url }}

STATIC_ROOT={{ funkwhale_static_dir }}
MEDIA_ROOT={{ funkwhale_media_dir }}

# Music
MUSIC_DIRECTORY_PATH={{ funkwhale_music_dir }}
MUSIC_DIRECTORY_SERVE_PATH={{ funkwhale_music_dir }}

# Gunicorn
FUNKWHALE_API_IP={{ funkwhale_gunicorn_listen_ip }}
FUNKWHALE_API_PORT={{ funkwhale_gunicorn_listen_port }}
FUNKWHALE_WEB_WORKERS={{ funkwhale_gunicorn_workers }}
{% if funkwhale_gunicorn_extra_args -%}
GUNICORN_CMD_ARGS={{ funkwhale_gunicorn_extra_args }}
{%- endif %}

# Extras
{% for entry in funkwhale_env_extra_vars | default([]) %}
{{ entry }}
{% endfor %}
